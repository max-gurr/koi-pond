<!DOCTYPE HTML>
<html>
	<head>
		<script src="util.js" defer></script>
		<script src="segment.js" defer></script>
		<script src="fish.js" defer></script>
		<script src="script.js" defer></script>
		<link href="style.css" type="text/css" rel="stylesheet"/>
	</head>
	<body>
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="canvas" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
            <defs>
			    <filter id="water_colour">
				    <feTurbulence type="fractalNoise" baseFrequency="0.01 0.02" numOctaves="1" />
			    	<!--
				    <feColorMatrix in="myTurbulence" type="hueRotate" values="0" result="water">
						<animate attributeName="values" from="0" to="360" dur="6s" repeatCount="indefinite"/>
					</feColorMatrix>
					-->
				    <feComposite operator="in" in2="SourceGraphic"/>
				    <feColorMatrix type="matrix"
				        values="0   0   0   0   0.05
				                0   0.3   0.1   0.2   0.1
				                0   0.3   1   0.4   0.3
				                0   0.3   0.2   0.4   0" />
			    </filter>

                <filter id="water_displacement">
                    <feTurbulence id="sea-filter" baseFrequency="0.01 0.02" />
                    <feDisplacementMap scale="10" in="SourceGraphic"></feDisplacementMap>
                    <feGaussianBlur in="feDisplacementMap" stdDeviation="1.2" />
                </filter>
			  </defs>
		</svg>
		<div id="water"/></div>
		<canvas id="canvas"></canvas>
		<div class="controls">
			<label for="num_fish">Fish: <span id="display_num_fish"></span></label>
			<input type="range" name="num_fish" id="num_fish" min="1" max="200" value="30" oninput="adjustNumFish(this.value)" />
			<p>FR: <span id="display_framerate"></span></p>
		</div>
	</body>
</html>
